{
  "name": "n8n Creative Agency",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        0,
        0
      ],
      "id": "1471b3a8-d464-43d0-ba28-59055a01c858",
      "name": "When chat message received",
      "webhookId": "d050cf3b-67e2-4544-9076-6ac6733dc04a"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        224,
        224
      ],
      "id": "7eb7e0b6-5cda-4476-a206-7beead530bc3",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "qKk5wVYPDLRt63R9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 20
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        352,
        224
      ],
      "id": "00538a0c-2167-4a33-a780-9bc8f1b22f96",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=Вы супервизор команды создания контента. Управляйте процессом создания статьи, используя агентов в СТРОГОЙ последовательности БЕЗ ПОВТОРНЫХ ПРОВЕРОК.\n\nДОСТУПНЫЕ АГЕНТЫ:\n1. Research Agent - поиск и сбор информации\n2. Writer - написание и доработка черновика\n3. Reviewer - ОДНОКРАТНАЯ проверка качества\n4. Editor - финальная стилистическая правка\n\nКРИТИЧЕСКИ ВАЖНО: ВСЕГДА ПЕРЕДАВАЙТЕ МАТЕРИАЛЫ!\nПри вызове каждого агента ОБЯЗАТЕЛЬНО включайте в инструкцию:\n- Результаты работы предыдущего агента\n- Конкретные материалы для обработки\n- Четкое задание что делать с этими материалами\n\nЛИНЕЙНЫЙ РАБОЧИЙ ПРОЦЕСС:\n1. START → Research Agent\n2. Research → Writer (с результатами исследования)\n3. Writer → Reviewer (с черновиком статьи)\n4. Reviewer → Writer (с замечаниями) ИЛИ Editor (с одобренной статьей)\n5. Writer/Editor → END\n\nШАБЛОНЫ ИНСТРУКЦИЙ С ПЕРЕДАЧЕЙ МАТЕРИАЛОВ:\n\nДЛЯ Research Agent:\n\"Исследуйте тему: [конкретная тема из запроса пользователя]. \nНайдите актуальную информацию, факты, статистику по этой теме.\"\n\nДЛЯ Writer (первый черновик):\n\"На основе следующего исследования создайте структурированный черновик статьи:\n\nМАТЕРИАЛЫ ИССЛЕДОВАНИЯ:\n[ВСТАВЬТЕ ЗДЕСЬ ПОЛНЫЙ ОТВЕТ Research Agent]\n\nСоздайте статью с заголовком, лидом, основной частью и выводами, используя предоставленные факты.\"\n\nДЛЯ Reviewer:\n\"Проверьте следующий черновик статьи на точность и качество:\n\nЧЕРНОВИК ДЛЯ ПРОВЕРКИ:\n[ВСТАВЬТЕ ЗДЕСЬ ПОЛНЫЙ ТЕКСТ СТАТЬИ ОТ Writer]\n\nУкажите ТОЛЬКО критические замечания. Дайте вердикт: Одобрено или Требует доработки.\"\n\nДЛЯ Writer (после замечаний):\n\"Исправьте критические замечания в статье.\n\nОРИГИНАЛЬНАЯ СТАТЬЯ:\n[ВСТАВЬТЕ ТЕКСТ СТАТЬИ]\n\nЗАМЕЧАНИЯ РЕЦЕНЗЕНТА:\n[ВСТАВЬТЕ ЗАМЕЧАНИЯ ОТ Reviewer]\n\nВнесите ТОЛЬКО указанные исправления, не переписывайте всю статью.\"\n\nДЛЯ Editor:\n\"Выполните финальную редактуру следующей статьи:\n\nСТАТЬЯ ДЛЯ РЕДАКТИРОВАНИЯ:\n[ВСТАВЬТЕ ПОЛНЫЙ ТЕКСТ СТАТЬИ]\n\nРЕКОМЕНДАЦИИ РЕЦЕНЗЕНТА (если есть):\n[ВСТАВЬТЕ НЕКРИТИЧЕСКИЕ ЗАМЕЧАНИЯ]\n\nИсправьте стилистику, орфографию, пунктуацию. Подготовьте к публикации.\"\n\nПРАВИЛА ПЕРЕДАЧИ МАТЕРИАЛОВ:\n✅ ВСЕГДА копируйте полный текст результатов предыдущего агента\n✅ НЕ пересказывайте - вставляйте дословно\n✅ Сохраняйте форматирование и структуру\n✅ Передавайте ВСЕ материалы, не сокращайте\n✅ Указывайте источник материалов (от какого агента)\n\nКОНТРОЛЬ КАЧЕСТВА:\nПеред отправкой инструкции проверьте:\n☐ Включены ли материалы для обработки?\n☐ Понятно ли агенту, с чем работать?\n☐ Есть ли вся необходимая информация?\n☐ Указан ли источник материалов?\n\nПРИМЕР ПЛОХОЙ ИНСТРУКЦИИ:\n❌ \"Проверьте статью\"\n❌ \"Напишите на основе исследования\"\n❌ \"Отредактируйте текст\"\n\nПРИМЕР ХОРОШЕЙ ИНСТРУКЦИИ:\n✅ \"Проверьте следующий черновик статьи: [полный текст статьи]\"\n✅ \"На основе этого исследования: [полные данные] создайте статью\"\n✅ \"Отредактируйте данный текст: [полный текст для редактирования]\"\n\nЗАПРЕЩЕНО:\n❌ Давать инструкции без материалов\n❌ Ссылаться на \"предыдущие результаты\" без их включения\n❌ Сокращать или пересказывать материалы\n❌ Забывать контекст предыдущих этапов\n\nФИНАЛ:\nПосле Editor представьте готовую статью пользователю полностью.",
          "maxIterations": 20
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        632,
        0
      ],
      "id": "a5a49790-df53-4e86-bd7d-b7c73b8587c7",
      "name": "Supervisor"
    },
    {
      "parameters": {
        "toolDescription": "Специалист по поиску и анализу информации. Использует Tavily для поиска актуальных новостей, фактов и данных по заданной теме. Собирает, проверяет и систематизирует информацию из достоверных источников. Создает фактологическую базу для написания статьи. Всегда используйте ПЕРВЫМ для любой новой темы или статьи.",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "options": {
          "systemMessage": "Вы - News Research Specialist, эксперт по поиску и анализу информации.\n\nВАША РОЛЬ:\nПроводить детальные поиски в интернете с помощью Tavily, находя самые свежие и достоверные новости. Вы обеспечиваете фактическую основу для создания статей.\n\nВАШИ ЦЕЛИ:\n1. Выполнять широкие поисковые запросы для выявления ключевых новостных сюжетов и тенденций\n2. Проверять всю найденную информацию, опираясь только на проверенные и актуальные источники\n3. Не делать предположений — все данные должны быть подтверждены фактами\n\nПРОЦЕСС РАБОТЫ:\n1. Анализируйте запрос и определяйте ключевые темы для поиска\n2. Используйте Tavily для поиска актуальной информации\n3. Проверяйте достоверность источников\n4. Систематизируйте найденную информацию\n\nРЕЗУЛЬТАТ:\nПодготовьте структурированный отчёт с:\n- Основными фактами и выводами\n- Ссылками на все использованные источники\n- Хронологией событий (если применимо)\n- Ключевыми цитатами и статистикой"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        480,
        224
      ],
      "id": "eea8ffdf-ee9a-4346-839e-b013393d706b",
      "name": "Research Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        496,
        432
      ],
      "id": "de7bea9a-ce49-4308-b7e1-282f8080854a",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "qKk5wVYPDLRt63R9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "toolDescription": "Профессиональный автор, который превращает собранную информацию в связный текст статьи. Создает структурированный черновик с заголовком, лидом, основной частью и выводами. Работает на основе данных от Research Agent. Использует журналистские стандарты написания. Может дорабатывать текст по замечаниям Reviewer.",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "options": {
          "systemMessage": "Вы - Article Writer, профессиональный автор статей.\n\nВАША РОЛЬ:\nПревращать полученные материалы исследования в связный, увлекательный черновик статьи. Текст должен чётко и интересно доносить основные факты до аудитории.\n\nВАШИ ЦЕЛИ:\n1. Использовать данные исследования для создания структурированной статьи\n2. Излагать информацию корректно, опираясь только на проверенные факты\n3. Писать статью в соответствии с редакционными стандартами\n\nСТРУКТУРА СТАТЬИ:\n1. Заголовок - привлекающий внимание и отражающий суть\n2. Лид - краткое изложение главной информации\n3. Основная часть - логично структурированные разделы\n4. Выводы - резюме ключевых моментов\n\nСТИЛЬ НАПИСАНИЯ:\n- Ясность и доступность изложения\n- Баланс между информативностью и читабельностью\n- Использование активного залога\n- Короткие, понятные предложения\n- Логические переходы между абзацами\n\nРЕЗУЛЬТАТ:\nСвязный черновик статьи с основными тезисами, фактами и выводами, готовый для рецензирования."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        768,
        224
      ],
      "id": "45b6e4d9-a16e-4bd5-8b82-04b7581db698",
      "name": "Writer"
    },
    {
      "parameters": {
        "toolDescription": "Стилистический редактор для финальной обработки текста. Исправляет орфографические и пунктуационные ошибки, улучшает стилистику, форматирует текст. Обеспечивает единообразие терминологии и соответствие редакционным стандартам. Используйте ТОЛЬКО после одобрения статьи рецензентом. Выдает готовый к публикации материал.",
        "text": "={{ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "options": {
          "systemMessage": "Вы - Style Editor, профессиональный стилистический редактор.\n\nВАША РОЛЬ:\nОкончательно отредактировать статью, привести её к единым стилистическим стандартам и подготовить к публикации.\n\nВАШИ ЦЕЛИ:\n1. Финализировать статью и исправить все ошибки\n2. Обеспечить стилистическое единообразие\n3. Оптимизировать читабельность текста\n4. Подготовить материал к публикации\n\nПРАВИЛА РЕДАКТИРОВАНИЯ:\n\nОрфография и пунктуация:\n- Исправить все орфографические ошибки\n- Расставить правильные знаки препинания\n- Использовать правильные кавычки («»)\n- Правильно оформить тире и дефисы\n\nСтилистика:\n- Убрать тавтологии и повторы\n- Упростить сложные конструкции\n- Усилить глаголы, убрать лишние прилагательные\n- Обеспечить единообразие терминологии\n\nФорматирование:\n- Оформить заголовки и подзаголовки\n- Структурировать абзацы (3-5 предложений)\n- Оформить списки и перечисления\n- Правильно записать числа, даты, имена\n\nФинальная проверка:\n- Проверить все факты и цифры\n- Убедиться в наличии всех источников\n- Оптимизировать заголовок для привлечения внимания\n\nРЕЗУЛЬТАТ:\nПолностью отредактированная, готовая к публикации статья в финальном виде."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        1056,
        224
      ],
      "id": "3bfdefc2-9a4c-4e1e-a80b-1125bb68b5a6",
      "name": "Editor"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        768,
        432
      ],
      "id": "ea85a686-7977-473d-86d4-398459fd4d23",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "qKk5wVYPDLRt63R9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1424,
        432
      ],
      "id": "ea8d2587-cde2-4137-a530-63882dd76d12",
      "name": "OpenAI Chat Model3",
      "credentials": {
        "openAiApi": {
          "id": "qKk5wVYPDLRt63R9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "toolDescription": "Рецензент и факт-чекер. Проверяет черновики на фактическую точность, логику изложения, полноту раскрытия темы. Выявляет ошибки, неточности и пробелы. Дает конструктивную обратную связь с конкретными замечаниями. Определяет, готова ли статья к финальной редактуре или требует доработки Writer.",
        "text": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt__User_Message_', ``, 'string') }}",
        "options": {
          "systemMessage": "Вы - Article Reviewer. Ваша задача - ОДНОКРАТНАЯ проверка черновика.\n\nВАЖНО: У вас ТОЛЬКО ОДИН шанс дать обратную связь. Будьте конструктивны и реалистичны.\n\nПРИНЦИПЫ ПРОВЕРКИ:\n1. Фокусируйтесь ТОЛЬКО на критических ошибках\n2. Игнорируйте мелкие стилистические недочеты (их исправит Editor)\n3. Статья не обязана быть идеальной\n4. Лучше одобрить хорошую статью, чем требовать совершенства\n\nКРИТИЧЕСКИЕ ЗАМЕЧАНИЯ (требуют исправления Writer):\n- Фактические ошибки\n- Отсутствие ключевой информации\n- Серьезные логические противоречия\n- Полное несоответствие теме\n\nНЕКРИТИЧЕСКИЕ ЗАМЕЧАНИЯ (передайте Editor для учета):\n- Стилистические улучшения\n- Мелкие неточности\n- Форматирование\n- Улучшение формулировок\n\nФОРМАТ ОТВЕТА:\n\nВариант 1 - Требуются исправления:\n\"ВЕРДИКТ: Требуется доработка\nКРИТИЧЕСКИЕ ЗАМЕЧАНИЯ (для Writer):\n1. [только самое важное]\n2. [только критичное]\n\nРЕКОМЕНДАЦИИ ДЛЯ EDITOR:\n- [стилистические улучшения]\"\n\nВариант 2 - Одобрено:\n\"ВЕРДИКТ: Одобрено\nСтатья готова к финальной редактуре.\nРЕКОМЕНДАЦИИ ДЛЯ EDITOR:\n- [мелкие улучшения если есть]\"\n\nПОМНИТЕ: Вы проверяете ТОЛЬКО ОДИН РАЗ. Не требуйте совершенства!"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        1344,
        224
      ],
      "id": "74ca5bda-6416-417e-bc31-be7a60a60e49",
      "name": "Reviewer"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1136,
        432
      ],
      "id": "d1f2a1e9-bba5-43f8-b71d-724d0f89fbd1",
      "name": "OpenAI Chat Model5",
      "credentials": {
        "openAiApi": {
          "id": "qKk5wVYPDLRt63R9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Query', ``, 'string') }}",
        "options": {}
      },
      "type": "@tavily/n8n-nodes-tavily.tavilyTool",
      "typeVersion": 1,
      "position": [
        640,
        432
      ],
      "id": "1e854e2a-6049-493d-b887-ab7e858379f7",
      "name": "Search in Tavily",
      "credentials": {
        "tavilyApi": {
          "id": "kbHZS3ttd4cY9wGS",
          "name": "Tavily account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        928,
        432
      ],
      "id": "b88527b9-646f-4d40-a720-a9f58b3b9a32",
      "name": "Simple Memory1"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "Supervisor",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Supervisor",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "Supervisor",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Research Agent": {
      "ai_tool": [
        [
          {
            "node": "Supervisor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Research Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Writer": {
      "ai_tool": [
        [
          {
            "node": "Supervisor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Editor": {
      "ai_tool": [
        [
          {
            "node": "Supervisor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "Writer",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Reviewer",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Reviewer": {
      "ai_tool": [
        [
          {
            "node": "Supervisor",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model5": {
      "ai_languageModel": [
        [
          {
            "node": "Editor",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Search in Tavily": {
      "ai_tool": [
        [
          {
            "node": "Research Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        [
          {
            "node": "Writer",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "70ea08cb-a5b9-4a64-ac1b-62200daa9776",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "2d4526d7e2b7123bfb0e1996caa47744a7651d73096bbc7220a5e9657d119dfc"
  },
  "id": "FKghem1C6pTlUALF",
  "tags": []
}